<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pete's Pet Shop</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style>
        .panel-pet img {
            max-width: 100%; 
            height: auto;    
            border-radius: 4px; 
        }
    </style>

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2">
          <h1 class="text-center">Pete's Pet Shop</h1>
          <hr/>
          <br/>
        </div>
      </div>

      <!-- Connect Wallet button row -->
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2 text-center">
          <button
            id="connectButton"
            type="button"
            aria-label="Connect Wallet"
            class="button_YtCf cta wallet-button_CvpX text-decoration-none primary_nDUu">
            Connect Wallet
          </button>
          <br/><br/>
        </div>
      </div>

      <!-- DONATION CARD -->
      <div class="row" style="margin-top: 30px;">
        <div class="col-xs-12 col-sm-8 col-sm-push-2">

          <div class="panel panel-default" style="padding: 25px; border-radius: 10px; box-shadow: 0px 2px 10px rgba(0,0,0,0.1);">
            <h3 class="text-center" style="margin-top:0;">
              Support Pete's Pet Shop
            </h3>

            <p class="text-center text-muted">
              Donate ETH to help pets get adopted. Only the shop owner can withdraw the funds.
            </p>

            <!-- Donation Input -->
            <div class="form-group" style="margin-top: 20px;">
              <label><strong>Donation Amount (ETH)</strong></label>
              <input id="donationAmount" 
                    type="number" 
                    class="form-control input-lg"
                    placeholder="e.g., 0.01">
            </div>

            <!-- Donate Button -->
            <button class="btn btn-success btn-block btn-lg" id="donateButton">
              Donate ETH
            </button>

            <hr style="margin: 30px 0;">

            <!-- Withdraw Section -->
            <h4 class="text-center">Owner Controls</h4>

            <button class="btn btn-warning btn-block btn-lg" id="withdrawButton">
              Withdraw All Donations
            </button>

          </div>

        </div>
      </div>

      <!-- Liked Pets Section -->
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2 text-center">
          <h2>My Liked Pets</h2>
          <button id="btn-my-likes" class="btn btn-warning">Show My Likes</button>
          <div id="my-likes-container" style="display:none; margin-top:20px;">
            <ul id="my-likes-list" class="list-group"></ul>
          </div>
          <hr/>
        </div>
      </div>



      <!-- ===================== FILTER SECTION ===================== -->
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2">
          <h2 class="text-center">Filter Pets</h2>

          <div class="panel panel-default" style="padding: 20px;">

            <!-- Breed -->
            <div class="form-group">
              <label>Breed</label>
              <select id="filterBreed" class="form-control">
                <option value="">All Breeds</option>
              </select>
            </div>

            <!-- Location -->
            <div class="form-group">
              <label>Location</label>
              <select id="filterLocation" class="form-control">
                <option value="">All Locations</option>
              </select>
            </div>

            <!-- Adoption Status -->
            <div class="form-group">
              <label>Status</label>
              <select id="filterStatus" class="form-control">
                <option value="all">All Pets</option>
                <option value="adopted">Adopted Only</option>
                <option value="notadopted">Not Adopted Only</option>
              </select>
            </div>

            <!-- Age Range -->
            <div class="form-group">
              <label>Age Range</label>
              <div class="row">
                <div class="col-xs-6">
                  <input type="number" class="form-control" id="ageMin" placeholder="Min Age">
                </div>
                <div class="col-xs-6">
                  <input type="number" class="form-control" id="ageMax" placeholder="Max Age">
                </div>
              </div>
            </div>

            <button id="btn-filter" class="btn btn-primary btn-block">Search</button>
            <button id="btn-reset-filter" class="btn btn-default btn-block" style="margin-top:10px;">
              Reset Filter
            </button>
          </div>
          <hr/>
        </div>
      </div>
      <!-- ================= END FILTER SECTION ================= -->


      <!-- Pet Listing Row -->
      <div id="petsRow" class="row">
        <!-- PETS LOAD HERE -->
      </div>
    </div>

    <div id="petTemplate" style="display: none;">
      <div class="col-sm-6 col-md-4 col-lg-3">
        <div class="panel panel-default panel-pet">
          <div class="panel-heading">
            <h3 class="panel-title">Scrappy</h3>
          </div>
          <div class="panel-body">
            <img src="" alt="Pet image">
            <br/><br/>
            <strong>Breed</strong>: <span class="pet-breed">Golden Retriever</span><br/>
            <strong>Age</strong>: <span class="pet-age">3</span><br/>
            <strong>Location</strong>: <span class="pet-location">Warren, MI</span><br/><br/>
            <button class="btn btn-default btn-adopt" type="button" data-id="0">Adopt</button>
            <br/><br/>
            <!-- Like Count -->
            <p class="like-count" data-id="0">Likes: 0</p>
            <!-- Toggle Like Button -->
            <button class="btn btn-info btn-like" data-id="0">
              ❤️ Like / Unlike
            </button>
          </div>
        </div>
      </div>
    </div>



    <div class="row">
      <div class="col-xs-12 col-sm-8 col-sm-push-2">
        <h2 class="text-center">Register Your Pet for Adoption (0.01 ETH)</h2>
        <form class="form-inline text-center" role="form" onsubmit="return false;">
          <div class="form-group">
            <input type="text" class="form-control" id="petName" placeholder="Pet Name" required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" id="petBreed" placeholder="Breed" required>
          </div>
          <div class="form-group">
            <input type="number" class="form-control" id="petAge" placeholder="Age" required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" id="petLocation" placeholder="Location" required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" id="petPictureUrl" placeholder="Image URL (e.g., https://...)" required>
          </div>
          <button class="btn btn-primary" id="registerPetButton" type="button">Register Pet</button>
        </form>
        <hr/>
      </div>
    </div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>